<% if (title) { %>
  <h1><%= title %></h1>
<% } else {res.redirect('/')} %>

<%- messages() %>

<% if (errors) { %>
  <ul class="notice">
   <% errors.array().forEach(error => { %>
     <li><%= error.msg %></li>
  <%  }) %>
   </ul>
<% } %>

<form action="/inv/add-classification" method="post" id="classificationForm">
  <fieldset>
    <p>Field is required.</p>
    
    <label for="classification_name">Classification Name</label>
    <p>Name must be alphabetic characters only.</p>
    <input type="text" id="classification_name" name="classification_name" required 
           pattern="[A-Za-z0-9]+" title="Classification name cannot contain spaces or special characters"
           <% if(locals.classification_name) { %>value="<%= locals.classification_name %>"<% } %>>
    
    <input type="submit" value="Add Classification" id="classificationButton">
  </fieldset>
</form>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const form = document.querySelector("#classificationForm");
  const classificationName = document.querySelector("#classification_name");
  
  form.addEventListener("submit", function(event) {
    const pattern = /^[A-Za-z0-9]+$/;
    if (!pattern.test(classificationName.value)) {
      alert("Classification name cannot contain spaces or special characters.");
      event.preventDefault();
    }
  });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const form = document.querySelector("#classificationForm");
  const classificationName = document.querySelector("#classification_name");
  
  form.addEventListener("submit", function(event) {
    const pattern = /^[A-Za-z0-9]+$/;
    if (!pattern.test(classificationName.value)) {
      alert("Classification name cannot contain spaces or special characters.");
      event.preventDefault();
    }
  });
});
</script>