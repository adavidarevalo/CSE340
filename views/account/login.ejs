<% if (title) { %>
<h1><%= title %></h1>
<% } else { %>
<h1>Login</h1>
<% } %>

<% if (errors) { %>
<ul class="notice">
<% errors.array().forEach(error => { %>
  <li><%= error.msg %></li>
<% }) %>
</ul>
<% } %>

<div class=" login-container">
  <form action="/account/login" method="post" class="login-form">
    <div>
      <label for="email">Email Address:</label>
      <input type="email" id="email" name="email" required>
      
      <label for="password">Password</label>
      <input type="password" id="password" name="password" required>
    </div>
    
    <div class="password-requirements">
      Passwords must be minimum of 12 characters and include 1 capital letter, 1 number and 1 special character.
    </div>
    
    <button type="button" class="show-password" id="showPassword">Show Password</button>
    
    <div>
      <button type="submit" class="login-btn">Login</button>
    </div>
  </form>
  
  <p>No account? <a href="/account/register" class="account-link">Sign-up</a></p>
</div>

<script>
  // Show/hide password functionality
  document.getElementById('showPassword').addEventListener('click', function() {
    const passwordField = document.getElementById('password');
    if (passwordField.type === 'password') {
      passwordField.type = 'text';
      this.textContent = 'Hide Password';
    } else {
      passwordField.type = 'password';
      this.textContent = 'Show Password';
    }
  });
    document.getElementById('emailHidden').value = document.getElementById('email').value;
    document.getElementById('passwordHidden').value = document.getElementById('password').value;
</script>
